@page "/addOrdersAndClients"


@layout MainLayout
@inherits FirmaCurierat.Pages.AddOrdersAndClientsComponent
@using Radzen
@using Radzen.Blazor
@using Syncfusion.Blazor.Grids
@using Radzen.Blazor
@using Syncfusion.Blazor.DropDowns
@using Syncfusion.Blazor.Cards

@using Syncfusion.Blazor
@using Syncfusion.Blazor.Popups
@using Syncfusion.Blazor.Navigations
@using Syncfusion.Blazor.Notifications
<RadzenHeading Size="H5" Text="Register new order" Style="font-size:x-large;margin-top:60px; font-weight:bold;">

</RadzenHeading>

<hr />
<br />
<RadzenCard Style="margin-top:20px;">
    <RadzenContent Container="main">
        <ChildContent>
            <div class="row">
                <div class="col-md-12">


                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="Nume" style="font-weight: bold; font-size: medium;" Text="Client Name">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-8" style="margin-left:-100px;">
                            <RadzenTextBox MaxLength="255" style="width: 380px" @bind-Value="@(client.nume)" Name="name">
                            </RadzenTextBox>

                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="surname" style="font-weight: bold; font-size: medium;" Text="Client Surname">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-8" style="margin-left:-100px;">
                            <RadzenTextBox MaxLength="255" style="width: 380px" @bind-Value="@(client.prenume)" Name="surname">
                            </RadzenTextBox>

                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">

                            <RadzenLabel Component="srv_mail_from" style="font-weight: bold; font-size: medium;" Text="Client Mail">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">
                            <RadzenTextBox MaxLength="255" style="width: 380px" @bind-Value="@(client.mail)" Name="surname">
                            </RadzenTextBox>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="City">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenTextBox MaxLength="255" style="width: 380px" @bind-Value="@(client.oras)" Name="city">
                            </RadzenTextBox>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="Complete adress ">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenTextBox MaxLength="255" style="width: 380px" @bind-Value="@(client.adresa)" Name="surname">
                            </RadzenTextBox>
                        </div>
                    </div>

                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="Delivery Date">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenTextBox MaxLength="255" style="width: 380px" @bind-Value="@(comanda.data_livrare)" Name="surname">
                            </RadzenTextBox>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="AWB:">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenTextBox id="generateAwb" MaxLength="255" style="width: 380px" @bind-Value="@(comanda.awb)" Name="surname">
                            </RadzenTextBox>
                        </div>
                        <div class="col-md-3" style="margin-left:10px;">

                            <SfButton CssClass="e-round-corner" HtmlAttributes="@normalAttr" IconCss="e-icons e-refresh" Content="generate awb" @onclick="generateAwb"></SfButton>
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="Value:">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenNumeric TValue="int" Min="100" Max="2000" @bind-Value="@comanda.valoare_comanda" />
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="Responsible:">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenDropDown @bind-Value="@(comanda.id_dispecer)" TextProperty="nume_dispecer" ValueProperty="id_dispecer" TValue="int" AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="Radzen.FilterCaseSensitivity.CaseInsensitive" Placeholder="Select a coordinator..." Data="@coordsList"
                                            Style=" width:380px;" />
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="Order Type:">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenDropDown @bind-Value="@(tip_selected.id_tip)" TextProperty="tip" ValueProperty="id_tip" TValue="int" AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="Radzen.FilterCaseSensitivity.CaseInsensitive" Placeholder="Select a type..." Data="@tip"
                                            Style=" width:380px;" />
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-3">
                            <RadzenLabel Component="srv_mail_username" style="font-size: medium; font-weight:bold" Text="Driver">
                            </RadzenLabel>
                        </div>
                        <div class="col-md-3" style="margin-left:-100px;">

                            <RadzenDropDown @bind-Value="@(comanda.id_sofer)" TextProperty="nume" ValueProperty="id_sofer" TValue="int" AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="Radzen.FilterCaseSensitivity.CaseInsensitive" Placeholder="Select a driver..." Data="@soferi"
                                            Style=" width:380px;" />
                        </div>
                    </div>
                    <div style="margin-bottom: 1rem" class="row">
                        <div class="col-md-2 align-items-center d-flex" style="margin-right:-5px; margin-left:550px;">
                            <RadzenButton Click="@registerOrder" ButtonStyle="ButtonStyle.Danger" Text="Register Now">
                            </RadzenButton>
                        </div>
                        <div class="col-md-2" style=" margin-left:-80px">
                            <RadzenButton ButtonType="Radzen.ButtonType.Button" Click="@goBack" ButtonStyle="ButtonStyle.Danger" Text="Back">
                            </RadzenButton>
                        </div>
                    </div>


                </div>
            </div>
        </ChildContent>
    </RadzenContent>
</RadzenCard>
@code
{
    private Dictionary<string, object> normalAttr = new Dictionary<string, object>()
{
        {"title","Generate awb" },
        {"type","button" }
    };
}
<style>
    .e-refresh:before {
        content: '\e710';
        color: black;
        position: relative top:3px
    
</style>

